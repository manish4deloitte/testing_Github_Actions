name: Conditional trigger for BE 

on:
  push:
    paths:
      - 'backend/**'
  pull_request:
     types: [opened]
jobs:
  sonarqube_scan_be:
    runs-on: ubuntu-latest
    permissions: read-all

    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        
      - name: Check if PR is available
        run: |
          if [[ -z "${GITHUB_EVENT_NAME}" || "${GITHUB_EVENT_NAME}" != "pull_request" ]]; then
            echo "PR is not available, printing backend file contents"
            cat backend/test.txt
            exit 1
          fi
      - name: Printing backend file
        run: cat backend/test.txt
      - name: Printing hello world
        run: echo "hello world"
